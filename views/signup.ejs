<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up page</title>

    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css" />
    <link
      href="https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <header>Signup</header>

      <!-- âœ… Display backend messages -->
      <% if (message && message.length > 0) { %>
        <p style="color: red; text-align: center;"><%= message %></p>
      <% } %>

      <form action="/signup" method="POST">
        
        <!-- Email -->
        <div class="field email-field">
          <div class="input-field">
            <input type="email" placeholder="Enter your email" class="email" name="email" required />
          </div>
        </div>

        <!-- UserID -->
        <div class="field user-field">
          <div class="input-field">
            <input type="text" placeholder="Enter your UserID" name="userid" required />
          </div>
        </div>

        <!-- Username (NEW FIELD) -->
        <div class="field username-field">
          <div class="input-field">
            <input type="text" placeholder="Enter your username" name="username" required />
          </div>
        </div>

        <!-- Password -->
        <div class="field create-password">
          <div class="input-field">
            <input
              type="password"
              placeholder="Create password"
              class="password"
              name="password"
              required
            />
            <i class="bx bx-hide show-hide"></i>
          </div>
        </div>

        <!-- Confirm Password -->
        <div class="field confirm-password">
          <div class="input-field">
            <input
              type="password"
              placeholder="Confirm password"
              class="cPassword"
              name="cpassword"
              required
            />
            <i class="bx bx-hide show-hide"></i>
          </div>
        </div>

        <!-- Submit -->
        <div class="input-field button">
          <input type="submit" value="Submit Now" />
        </div>
      </form>
    </div>

    <!-- JavaScript for show/hide password -->
    <script>
      const eyeIcons = document.querySelectorAll(".show-hide");
      eyeIcons.forEach((eyeIcon) => {
        eyeIcon.addEventListener("click", () => {
          const pInput = eyeIcon.parentElement.querySelector("input");
          if (pInput.type === "password") {
            eyeIcon.classList.replace("bx-hide", "bx-show");
            return (pInput.type = "text");
          }
          eyeIcon.classList.replace("bx-show", "bx-hide");
          pInput.type = "password";
        });
      });
    </script>
  </body>
</html>
